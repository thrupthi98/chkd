<div class="surgery-wrap">
    <h1>Create Surgery</h1>
    <div class="row col-lg-12">
        <div class="col-lg-9">
            <mat-tab-group mat-stretch-tabs class="example-stretched-tabs mat-elevation-z4" animationDuration="0ms">
                <mat-tab label="Description">
                    <form [formGroup]="surgeryForm">
                        <div class="outer">
                            <mat-form-field appearance="outline" class="col-lg-10">
                                <mat-label>Surgery Type</mat-label>
                                <input matInput formControlName="type" />
                            </mat-form-field>
                            <mat-form-field appearance="outline" class="col-lg-10">
                                <mat-label>Description</mat-label>
                                <textarea matInput rows="20" formControlName="description"></textarea>
                            </mat-form-field>
                        </div>
                    </form>
                </mat-tab>
                <mat-tab label="Preparation">
                    <form [formGroup]="surgeryForm">
                        <button mat-mini-fab class="header-btn" *ngIf="prep">
                            <mat-icon class="header-icon" (click)="addPrep()" >add</mat-icon>
                        </button>
                        <br>
                        <br>
                        <div class="outer" formArrayName="prep" *ngFor="let group of viewList">
                            <div [formGroupName]="prepIndex">
                                <mat-form-field appearance="outline" class="col-lg-10">
                                    <mat-label>Name</mat-label>
                                    <input matInput formControlName="question" />
                                </mat-form-field>
                                <mat-form-field appearance="outline" class="col-lg-10">
                                    <mat-label>Description</mat-label>
                                    <textarea matInput rows="20" formControlName="answer"></textarea>
                                </mat-form-field>
                            </div>
                            <button class="btn" *ngIf="!group.invalid && !prep" (click)="addToSidePrep()">Done</button>
                        </div>
                    </form>
                </mat-tab>
                <mat-tab label="Visit">
                    <form [formGroup]="surgeryForm">
                        <button mat-mini-fab class="header-btn">
                    <mat-icon class="header-icon" (click)="addVisit()">add</mat-icon>
                </button>
                        <br>
                        <br>
                        <div class="outer" formArrayName="visit" *ngFor="let group of getVisitControls.controls; let i = index">
                            <div [formGroupName]="i">
                                <mat-form-field appearance="outline" class="col-lg-10">
                                    <mat-label>Name</mat-label>
                                    <input matInput formControlName="question" />
                                </mat-form-field>
                                <mat-form-field appearance="outline" class="col-lg-10">
                                    <mat-label>Description</mat-label>
                                    <textarea matInput rows="20" formControlName="answer"></textarea>
                                </mat-form-field>
                            </div>
                        </div>
                    </form>
                </mat-tab>
                <mat-tab label="Home Care">
                    <mat-tab-group mat-align-tabs="center" animationDuration="0ms">
                        <mat-tab label="How to help">
                            <form [formGroup]="surgeryForm">
                                <button mat-mini-fab class="header-btn">
                            <mat-icon class="header-icon" (click)="addHomeCare()">add</mat-icon>
                        </button>
                                <br>
                                <br>
                                <div class="outer" formArrayName="homeCare" *ngFor="let group of getHomeCareControls.controls; let i = index">
                                    <div [formGroupName]="i">
                                        <mat-form-field appearance="outline" class="col-lg-10">
                                            <mat-label>Name</mat-label>
                                            <input matInput formControlName="question" />
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" class="col-lg-10">
                                            <mat-label>Description</mat-label>
                                            <textarea matInput rows="20" formControlName="answer"></textarea>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </form>
                        </mat-tab>
                        <mat-tab label="When to be concerned">
                            <form [formGroup]="surgeryForm">
                                <button mat-mini-fab class="header-btn">
                            <mat-icon class="header-icon" (click)="addConcern()">add</mat-icon>
                        </button>
                                <br>
                                <br>
                                <div class="outer" formArrayName="concern" *ngFor="let group of getConcernControls.controls; let i = index">
                                    <div [formGroupName]="i">
                                        <mat-form-field appearance="outline" class="col-lg-10">
                                            <mat-label>Name</mat-label>
                                            <input matInput formControlName="question" />
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" class="col-lg-10">
                                            <mat-label>Description</mat-label>
                                            <textarea matInput rows="20" formControlName="answer"></textarea>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </form>
                        </mat-tab>
                        <mat-tab label="Follow Up">
                            <form [formGroup]="surgeryForm">
                                <div class="outer">
                                    <mat-form-field appearance="outline" class="col-lg-10">
                                        <mat-label>Follow up</mat-label>
                                        <textarea matInput rows="20" formControlName="followUp"></textarea>
                                    </mat-form-field>
                                </div>
                            </form>
                        </mat-tab>
                    </mat-tab-group>
                </mat-tab>
                <mat-tab label="Videos">
                    <form [formGroup]="surgeryForm">
                        <button mat-mini-fab class="header-btn">
                    <mat-icon class="header-icon" (click)="addVideos()">add</mat-icon>
                </button>
                        <br>
                        <div class="video" formArrayName="videos" *ngFor="let group of getVideoControls.controls; let i = index">
                            <div [formGroupName]="i" class="row col-lg-12">
                                <mat-form-field appearance="outline" class="col-lg-4">
                                    <mat-label>Name</mat-label>
                                    <input matInput formControlName="name" />
                                </mat-form-field>
                                <mat-form-field appearance="outline" class="col-lg-8">
                                    <mat-label>Link</mat-label>
                                    <input matInput formControlName="link" />
                                </mat-form-field>
                            </div>
                        </div>
                    </form>
                </mat-tab>
            </mat-tab-group>
        </div>
        <div class="col-lg-3">
            <h2>Legend</h2>
            <ul>Preparation</ul>
            <ul class="side-list">
                <div *ngFor="let data of prepList; let i= index" class="row">
                    <p>{{data}}</p>
                    <mat-icon (click)="view(i)">visibility</mat-icon>
                    <mat-icon>close</mat-icon>
                </div>
            </ul>
            <ul>Visit</ul>
            <ul>Home Care</ul>
            <ul>Concern</ul>
            <button class="btn" *ngIf="!surgeryForm.invalid" (click)="submitForm()">Create</button>
        </div>
    </div>
</div>